# 文件上传模块使用指南

## 🎯 功能概述

文件上传模块提供了完整的文件上传和管理解决方案，支持多种上传方式和文件管理功能。

## ✨ 核心特性

### 1. 多种上传方式

- **拖拽上传** 📥 - 将文件拖到上传区域
- **点击上传** 🖱️ - 点击选择文件
- **文件夹上传** 📁 - 选择整个文件夹上传

### 2. 文件管理

- **双视图模式** 👁️ - 列表视图 / 网格视图
- **类型筛选** 🔍 - 按文件类型筛选
- **文件预览** 👀 - 图片和 PDF 预览
- **批量操作** 📦 - 批量下载、清空

### 3. 实时反馈

- **上传进度** 📊 - 实时显示上传进度
- **状态提示** 💡 - 成功/失败/上传中
- **统计信息** 📈 - 文件数量、大小、类型分布

## 🚀 快速开始

### 访问页面

点击左侧菜单的 "**文件上传**" 或访问 `/file-upload`

### 上传文件

#### 方式1: 拖拽上传

1. 打开文件管理器
2. 选择要上传的文件
3. 拖拽到上传区域
4. 松开鼠标，自动开始上传

#### 方式2: 点击上传

1. 点击上传区域
2. 在弹出的文件选择器中选择文件
3. 点击"打开"
4. 自动开始上传

#### 方式3: 文件夹上传

1. 点击"选择文件夹"按钮
2. 选择要上传的文件夹
3. 确认选择
4. 文件夹内所有文件开始上传

## 📋 界面说明

### 左侧面板

#### 上传区域

- 大型拖拽区域
- 支持多文件上传
- 实时反馈

#### 上传设置

- **最大大小**: 单文件最大大小限制（MB）
- **最大数量**: 可上传的最大文件数量
- **多文件**: 是否允许同时选择多个文件

#### 统计信息

- **总文件数**: 已上传的文件总数
- **上传成功**: 成功上传的文件数
- **上传中**: 正在上传的文件数
- **上传失败**: 上传失败的文件数

#### 文件类型分布

- 📷 图片
- 🎬 视频
- 🎵 音频
- 📄 文档
- 📦 其他

### 右侧面板

#### 工具栏

- **视图切换**: 列表视图 / 网格视图
- **批量下载**: 下载所有成功上传的文件
- **清空**: 清空所有文件

#### 文件筛选

- 全部
- 图片
- 视频
- 音频
- 文档
- 其他

#### 文件列表/网格

显示所有上传的文件，支持预览、下载、删除操作

## 🎨 视图模式

### 列表视图

**适合**: 查看详细信息、管理大量文件

**显示内容**:

- 文件图标（根据类型）
- 文件名
- 文件大小
- 文件路径
- 上传时间
- 上传进度（上传中）
- 状态标签
- 操作按钮

### 网格视图

**适合**: 图片预览、快速浏览

**显示内容**:

- 文件预览（图片显示缩略图）
- 文件名
- 文件大小
- 上传进度（上传中）
- 状态标签
- 操作按钮

## 🔧 操作说明

### 预览文件

**支持类型**: 图片、PDF

**操作步骤**:

1. 找到要预览的文件
2. 点击预览按钮（眼睛图标）
3. 在新窗口查看文件

### 下载文件

**操作步骤**:

1. 找到要下载的文件
2. 点击下载按钮
3. 文件自动下载到本地

### 删除文件

**操作步骤**:

1. 找到要删除的文件
2. 点击删除按钮（红色垃圾桶图标）
3. 确认删除
4. 文件被移除

### 批量下载

**操作步骤**:

1. 确保有上传成功的文件
2. 点击顶部"批量下载"按钮
3. 所有成功上传的文件依次下载

### 清空文件

**操作步骤**:

1. 点击顶部"清空"按钮
2. 确认操作
3. 所有文件被清空

## 📊 文件类型支持

### 图片 📷

- JPG, JPEG
- PNG
- GIF
- BMP
- WEBP
- SVG
- ICO

### 视频 🎬

- MP4
- AVI
- MOV
- WMV
- FLV
- MKV
- WEBM

### 音频 🎵

- MP3
- WAV
- OGG
- AAC
- FLAC
- M4A

### 文档 📄

- PDF
- DOC, DOCX
- XLS, XLSX
- PPT, PPTX
- TXT

### 压缩文件 📦

- ZIP
- RAR
- 7Z
- TAR
- GZ

### 代码文件 💻

- JS, TS
- HTML, CSS
- JSON, XML
- PY, JAVA
- 等等...

## ⚙️ 配置选项

### 最大文件大小

**默认**: 100 MB
**范围**: 1 - 1000 MB
**说明**: 限制单个文件的最大大小

### 最大文件数量

**默认**: 50 个
**范围**: 1 - 1000 个
**说明**: 限制可上传的最大文件数量

### 多文件上传

**默认**: 开启
**说明**: 是否允许同时选择多个文件

## 💡 使用技巧

### 1. 快速上传

- 使用拖拽上传最快捷
- 可以一次拖拽多个文件
- 支持从不同位置拖拽

### 2. 文件夹上传

- 适合上传项目文件
- 保留文件夹结构
- 显示完整路径

### 3. 批量管理

- 使用筛选快速定位文件
- 网格视图适合图片管理
- 列表视图适合文档管理

### 4. 性能优化

- 避免一次上传过多文件
- 大文件建议单独上传
- 及时清理不需要的文件

## ⚠️ 注意事项

### 1. 浏览器兼容性

- 文件夹上传需要现代浏览器
- 建议使用 Chrome、Firefox、Edge
- Safari 14+ 支持

### 2. 文件大小限制

- 超过限制的文件会被拒绝
- 可以在设置中调整限制
- 建议根据网络情况设置

### 3. 文件数量限制

- 达到限制后无法继续上传
- 需要先删除部分文件
- 或者调整数量限制

### 4. 存储说明

- 当前版本文件存储在浏览器内存
- 刷新页面后文件会丢失
- 实际项目需要服务器存储

## 🔒 安全建议

### 1. 文件类型验证

- 不要仅依赖前端验证
- 后端必须验证文件类型
- 检查文件内容而非扩展名

### 2. 文件大小限制

- 设置合理的大小限制
- 防止恶意上传大文件
- 考虑服务器存储容量

### 3. 文件扫描

- 后端进行病毒扫描
- 检查恶意代码
- 隔离可疑文件

### 4. 访问控制

- 实现用户认证
- 文件权限管理
- 防止未授权访问

## 🚧 已知限制

### 1. 模拟上传

- 当前版本为模拟上传
- 文件不会真正上传到服务器
- 需要集成后端 API

### 2. 文件存储

- 文件存储在浏览器内存
- 刷新页面会丢失
- 需要实现服务器存储

### 3. 大文件上传

- 没有分片上传
- 没有断点续传
- 大文件可能超时

### 4. 并发限制

- 没有上传队列管理
- 同时上传过多可能卡顿
- 需要实现并发控制

## 🔮 未来计划

### 短期（1-2周）

- [ ] 集成真实的上传 API
- [ ] 实现服务器存储
- [ ] 添加上传队列管理
- [ ] 优化大文件上传

### 中期（1-2月）

- [ ] 实现分片上传
- [ ] 添加断点续传
- [ ] 图片压缩功能
- [ ] 视频转码功能

### 长期（3-6月）

- [ ] 云存储集成（OSS、S3）
- [ ] 文件分享功能
- [ ] 文件权限管理
- [ ] 文件加密存储

## 📞 常见问题

### Q: 为什么文件夹上传不工作？

A: 需要现代浏览器支持，建议使用 Chrome、Firefox 或 Edge 最新版本。

### Q: 上传的文件在哪里？

A: 当前版本文件存储在浏览器内存中，刷新页面会丢失。实际项目需要上传到服务器。

### Q: 如何限制上传文件类型？

A: 可以在代码中添加 `accept` 属性限制文件类型。

### Q: 支持大文件上传吗？

A: 当前版本支持，但建议不超过 100MB。大文件建议使用分片上传。

### Q: 可以上传多少个文件？

A: 默认最多 50 个，可以在设置中调整，最大支持 1000 个。

### Q: 如何实现真实的文件上传？

A: 需要替换模拟上传函数为实际的 API 调用，参考 README 中的示例代码。

## 📚 相关文档

- [模块 README](./src/modules/file-upload/README.md)
- [Element Plus Upload](https://element-plus.org/zh-CN/component/upload.html)
- [MDN File API](https://developer.mozilla.org/zh-CN/docs/Web/API/File)
- [MDN Drag and Drop](https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API)

## 🎉 总结

文件上传模块提供了：

1. ✅ **多种上传方式** - 拖拽、点击、文件夹
2. ✅ **灵活的视图** - 列表、网格
3. ✅ **强大的筛选** - 按类型筛选
4. ✅ **完整的管理** - 预览、下载、删除
5. ✅ **实时反馈** - 进度、状态、统计
6. ✅ **可配置** - 大小、数量、多文件

适用于各种文件上传场景，可根据需求进行扩展和定制！
