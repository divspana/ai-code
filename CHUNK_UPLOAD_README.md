# åˆ‡ç‰‡ä¸Šä¼ è§£å†³æ–¹æ¡ˆ

## ğŸ“¦ æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶

- **`src/composables/useChunkUpload.ts`** - åˆ‡ç‰‡ä¸Šä¼ ç®¡ç†ç±»å’Œ Composable
- **`src/composables/useChunkUpload.example.ts`** - ä½¿ç”¨ç¤ºä¾‹ä»£ç 
- **`src/components/FolderUploadV2.vue`** - ä½¿ç”¨ç®¡ç†å™¨çš„ç®€åŒ–ç‰ˆç»„ä»¶
- **`src/components/FolderUpload.vue`** - åŸå§‹å®Œæ•´ç‰ˆç»„ä»¶ï¼ˆå†…è”å®ç°ï¼‰

### æ–‡æ¡£æ–‡ä»¶

- **`CHUNK_UPLOAD_DESIGN.md`** - è¯¦ç»†è®¾è®¡æ–‡æ¡£
- **`CHUNK_UPLOAD_EXPLANATION.md`** - å·¥ä½œåŸç†è¯´æ˜
- **`CHUNK_UPLOAD_README.md`** - æœ¬æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Composableï¼ˆæ¨èï¼‰

```vue
<script setup lang="ts">
import { ref } from 'vue'
import { useChunkUpload, type FileNode } from '@/composables/useChunkUpload'

const fileList = ref<FileNode[]>([])

// åˆ›å»ºä¸Šä¼ ç®¡ç†å™¨
const uploader = useChunkUpload({
  chunkSize: 2 * 1024 * 1024, // 2MB
  maxConcurrent: 6, // æœ€å¤§å¹¶å‘6ä¸ªåˆ‡ç‰‡
  maxRetries: 3, // å¤±è´¥é‡è¯•3æ¬¡
  uploadUrl: '/api/upload/chunk',
  mergeUrl: '/api/upload/merge'
})

// å¼€å§‹ä¸Šä¼ 
const startUpload = async () => {
  await uploader.upload(fileList.value)
}

// æš‚åœä¸Šä¼ 
const pauseUpload = () => {
  uploader.pause()
}

// è·å–ç»Ÿè®¡ä¿¡æ¯
const stats = uploader.getStatistics()
console.log(stats.successFiles, stats.failedFiles)
</script>
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ç±»å®ä¾‹

```typescript
import { ChunkUploadManager } from '@/composables/useChunkUpload'

const manager = new ChunkUploadManager({
  chunkSize: 5 * 1024 * 1024,
  maxConcurrent: 10,
  maxRetries: 5
})

await manager.upload(files)
manager.pause()
manager.clear()
```

## ğŸ“‹ æ ¸å¿ƒç‰¹æ€§

### âœ… åˆ‡ç‰‡çº§å¹¶å‘æ§åˆ¶

```
3ä¸ªæ–‡ä»¶ â†’ 10ä¸ªåˆ‡ç‰‡ â†’ 6ä¸ªå¹¶å‘ä¸Šä¼ 
ä¸æ˜¯ï¼šæ–‡ä»¶Aã€æ–‡ä»¶Bã€æ–‡ä»¶C åŒæ—¶ä¸Šä¼ 
è€Œæ˜¯ï¼šåˆ‡ç‰‡1ã€åˆ‡ç‰‡2ã€åˆ‡ç‰‡3ã€åˆ‡ç‰‡4ã€åˆ‡ç‰‡5ã€åˆ‡ç‰‡6 åŒæ—¶ä¸Šä¼ 
```

### âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶

```
åˆ‡ç‰‡ä¸Šä¼ å¤±è´¥
  â†“
è‡ªåŠ¨é‡è¯•ï¼ˆç¬¬1æ¬¡ï¼‰
  â†“
å¤±è´¥ï¼Œé‡è¯•ï¼ˆç¬¬2æ¬¡ï¼‰
  â†“
å¤±è´¥ï¼Œé‡è¯•ï¼ˆç¬¬3æ¬¡ï¼‰
  â†“
3æ¬¡åä»å¤±è´¥ â†’ æ ‡è®°æ–‡ä»¶å¤±è´¥
```

### âœ… å®æ—¶è¿›åº¦è¿½è¸ª

- æ¯ä¸ªæ–‡ä»¶çš„ä¸Šä¼ è¿›åº¦ï¼ˆ0-100%ï¼‰
- æ–‡ä»¶çŠ¶æ€ï¼ˆpending/uploading/success/exception/pausedï¼‰
- æ´»è·ƒåˆ‡ç‰‡æ•°é‡
- é˜Ÿåˆ—ä¸­çš„åˆ‡ç‰‡æ•°é‡

### âœ… æ–‡ä»¶çŠ¶æ€ç®¡ç†

- æ‰€æœ‰åˆ‡ç‰‡ä¸Šä¼ å®Œæˆåè‡ªåŠ¨è°ƒç”¨åˆå¹¶æ¥å£
- åˆå¹¶æˆåŠŸåæ ‡è®°æ–‡ä»¶ä¸ºæˆåŠŸçŠ¶æ€
- ä»»æ„åˆ‡ç‰‡é‡è¯•3æ¬¡å¤±è´¥åæ ‡è®°æ–‡ä»¶å¤±è´¥

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šä¸Šä¼ æ–‡ä»¶å¤¹

```typescript
// é€‰æ‹©æ–‡ä»¶å¤¹å
const files = Array.from(input.files).map(file => ({
  id: generateId(),
  name: file.name,
  path: file.webkitRelativePath,
  size: file.size,
  file: file,
  uploadProgress: 0,
  uploadStatus: 'pending'
}))

await uploader.upload(files)
```

### åœºæ™¯2ï¼šæ‰¹é‡ä¸Šä¼ æ–‡ä»¶

```typescript
// é€‰æ‹©å¤šä¸ªæ–‡ä»¶å
const files = Array.from(input.files).map(file => ({
  id: generateId(),
  name: file.name,
  path: file.name,
  size: file.size,
  file: file,
  uploadProgress: 0,
  uploadStatus: 'pending'
}))

await uploader.upload(files)
```

### åœºæ™¯3ï¼šæ–­ç‚¹ç»­ä¼ ï¼ˆéœ€æ‰©å±•ï¼‰

```typescript
// è¿‡æ»¤å‡ºæœªå®Œæˆçš„æ–‡ä»¶
const pendingFiles = fileList.filter(
  f => f.uploadStatus === 'pending' || f.uploadStatus === 'exception' || f.uploadStatus === 'paused'
)

await uploader.upload(pendingFiles)
```

## ğŸ“Š æ•°æ®æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·é€‰æ‹©æ–‡ä»¶                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è®¡ç®—æ–‡ä»¶å“ˆå¸Œ & åˆ›å»ºåˆ‡ç‰‡                      â”‚
â”‚  æ–‡ä»¶A (10MB) â†’ [åˆ‡ç‰‡0, åˆ‡ç‰‡1, åˆ‡ç‰‡2, åˆ‡ç‰‡3, åˆ‡ç‰‡4]      â”‚
â”‚  æ–‡ä»¶B (6MB)  â†’ [åˆ‡ç‰‡0, åˆ‡ç‰‡1, åˆ‡ç‰‡2]                    â”‚
â”‚  æ–‡ä»¶C (4MB)  â†’ [åˆ‡ç‰‡0, åˆ‡ç‰‡1]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åˆ‡ç‰‡ä»»åŠ¡é˜Ÿåˆ—                             â”‚
â”‚  [A0, A1, A2, A3, A4, B0, B1, B2, C0, C1]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å¯åŠ¨6ä¸ªå¹¶å‘å·¥ä½œçº¿ç¨‹                          â”‚
â”‚  çº¿ç¨‹1 â†’ A0  â”‚  çº¿ç¨‹2 â†’ A1  â”‚  çº¿ç¨‹3 â†’ A2               â”‚
â”‚  çº¿ç¨‹4 â†’ A3  â”‚  çº¿ç¨‹5 â†’ A4  â”‚  çº¿ç¨‹6 â†’ B0               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸Šä¼ åˆ‡ç‰‡                               â”‚
â”‚  æˆåŠŸ â†’ æ ‡è®°å®Œæˆ â†’ æ›´æ–°è¿›åº¦                              â”‚
â”‚  å¤±è´¥ â†’ é‡è¯•ï¼ˆæœ€å¤š3æ¬¡ï¼‰â†’ å¤±è´¥åæ ‡è®°æ–‡ä»¶å¤±è´¥              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ–‡ä»¶æ‰€æœ‰åˆ‡ç‰‡å®Œæˆï¼Ÿ                           â”‚
â”‚  æ˜¯ â†’ è°ƒç”¨åˆå¹¶æ¥å£ â†’ æ ‡è®°æ–‡ä»¶æˆåŠŸ                        â”‚
â”‚  å¦ â†’ ç»§ç»­ä¸Šä¼ ä¸‹ä¸€ä¸ªåˆ‡ç‰‡                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ‰€æœ‰æ–‡ä»¶å®Œæˆ                             â”‚
â”‚  æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼ˆæˆåŠŸ/å¤±è´¥æ–‡ä»¶æ•°ï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ é…ç½®é€‰é¡¹

```typescript
interface UploadConfig {
  chunkSize?: number // åˆ‡ç‰‡å¤§å°ï¼Œé»˜è®¤ 2MB
  maxConcurrent?: number // æœ€å¤§å¹¶å‘æ•°ï¼Œé»˜è®¤ 6
  maxRetries?: number // æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ 3
  uploadUrl?: string // ä¸Šä¼ æ¥å£åœ°å€
  mergeUrl?: string // åˆå¹¶æ¥å£åœ°å€
}
```

### æ¨èé…ç½®

| åœºæ™¯                 | chunkSize | maxConcurrent | maxRetries |
| -------------------- | --------- | ------------- | ---------- |
| å°æ–‡ä»¶ï¼ˆ<10MBï¼‰      | 1MB       | 6             | 3          |
| ä¸­ç­‰æ–‡ä»¶ï¼ˆ10-100MBï¼‰ | 2MB       | 6             | 3          |
| å¤§æ–‡ä»¶ï¼ˆ>100MBï¼‰     | 5MB       | 8             | 5          |
| æ…¢é€Ÿç½‘ç»œ             | 1MB       | 3             | 5          |
| å¿«é€Ÿç½‘ç»œ             | 5MB       | 10            | 3          |

## ğŸ“¡ API æ¥å£è¦æ±‚

### ä¸Šä¼ åˆ‡ç‰‡æ¥å£

```
POST /api/upload/chunk
Content-Type: multipart/form-data

å‚æ•°ï¼š
- chunk: Blob              // åˆ‡ç‰‡æ•°æ®
- index: number            // åˆ‡ç‰‡ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰
- total: number            // æ€»åˆ‡ç‰‡æ•°
- hash: string             // æ–‡ä»¶å“ˆå¸Œå€¼
- fileName: string         // æ–‡ä»¶å
- fileSize: number         // æ–‡ä»¶æ€»å¤§å°
- relativePath: string     // æ–‡ä»¶ç›¸å¯¹è·¯å¾„

å“åº”ï¼š
{
  "success": true,
  "message": "Chunk uploaded successfully"
}
```

### åˆå¹¶åˆ‡ç‰‡æ¥å£

```
POST /api/upload/merge
Content-Type: application/json

å‚æ•°ï¼š
{
  "fileName": "example.pdf",
  "hash": "abc123",
  "total": 5,
  "relativePath": "folder/example.pdf"
}

å“åº”ï¼š
{
  "success": true,
  "message": "File merged successfully",
  "fileUrl": "https://cdn.example.com/files/example.pdf"
}
```

## ğŸ¨ ç»„ä»¶ç¤ºä¾‹

### å®Œæ•´çš„ Vue ç»„ä»¶

å‚è€ƒ `src/components/FolderUploadV2.vue`ï¼ŒåŒ…å«ï¼š

- âœ… æ–‡ä»¶å¤¹é€‰æ‹©
- âœ… å¤šæ–‡ä»¶é€‰æ‹©
- âœ… è¿›åº¦æ˜¾ç¤º
- âœ… çŠ¶æ€ç®¡ç†
- âœ… æš‚åœ/ç»§ç»­
- âœ… ç»Ÿè®¡ä¿¡æ¯

## ğŸ› è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

```
[ChunkUpload] Starting upload: 3 files, 10 chunks
[ChunkUpload] Chunk 2 of file1.pdf failed, retry 1/3
[ChunkUpload] File file1.pdf uploaded successfully
[ChunkUpload] Upload completed
```

### 2. ç›‘æ§ä¸Šä¼ çŠ¶æ€

```typescript
// å®æ—¶ç›‘æ§
watch(uploader.isUploading, val => {
  console.log('ä¸Šä¼ çŠ¶æ€:', val)
})

watch(uploader.activeChunksCount, val => {
  console.log('æ´»è·ƒåˆ‡ç‰‡æ•°:', val)
})
```

### 3. è·å–è¯¦ç»†ç»Ÿè®¡

```typescript
const stats = uploader.getStatistics()
console.log('ç»Ÿè®¡ä¿¡æ¯:', {
  æ€»æ–‡ä»¶æ•°: stats.totalFiles,
  ä¸Šä¼ ä¸­: stats.uploadingFiles,
  æˆåŠŸ: stats.successFiles,
  å¤±è´¥: stats.failedFiles
})
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å†…å­˜ç®¡ç†

- åˆ‡ç‰‡å¤§å°å»ºè®® 1-5MB
- è¿‡å°ï¼šè¯·æ±‚æ¬¡æ•°è¿‡å¤š
- è¿‡å¤§ï¼šå ç”¨å†…å­˜è¿‡å¤š

### 2. å¹¶å‘æ§åˆ¶

- æµè§ˆå™¨å¯¹åŒåŸŸåçš„å¹¶å‘è¯·æ±‚æœ‰é™åˆ¶ï¼ˆé€šå¸¸6-8ä¸ªï¼‰
- å»ºè®®å¹¶å‘æ•°ä¸è¶…è¿‡10

### 3. é”™è¯¯å¤„ç†

- ç½‘ç»œé”™è¯¯ä¼šè‡ªåŠ¨é‡è¯•
- æœåŠ¡å™¨é”™è¯¯ï¼ˆ5xxï¼‰ä¼šé‡è¯•
- å®¢æˆ·ç«¯é”™è¯¯ï¼ˆ4xxï¼‰ä¸ä¼šé‡è¯•

### 4. å–æ¶ˆä¸Šä¼ 

- è°ƒç”¨ `pause()` ä¼šå–æ¶ˆæ‰€æœ‰è¿›è¡Œä¸­çš„åˆ‡ç‰‡
- å·²å®Œæˆçš„åˆ‡ç‰‡ä¸ä¼šå›æ»š
- å¯ä»¥é€šè¿‡ `upload()` ç»§ç»­ä¸Šä¼ 

## ğŸ”„ ä¸åŸç»„ä»¶å¯¹æ¯”

| ç‰¹æ€§       | FolderUpload.vue | FolderUploadV2.vue      |
| ---------- | ---------------- | ----------------------- |
| å®ç°æ–¹å¼   | å†…è”å®ç°         | ä½¿ç”¨ ChunkUploadManager |
| ä»£ç è¡Œæ•°   | ~600è¡Œ           | ~300è¡Œ                  |
| å¯å¤ç”¨æ€§   | âŒ ä½            | âœ… é«˜                   |
| å¯æµ‹è¯•æ€§   | âŒ ä½            | âœ… é«˜                   |
| å¯ç»´æŠ¤æ€§   | âš ï¸ ä¸­            | âœ… é«˜                   |
| åŠŸèƒ½å®Œæ•´æ€§ | âœ… å®Œæ•´          | âœ… å®Œæ•´                 |

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **è®¾è®¡æ–‡æ¡£**: `CHUNK_UPLOAD_DESIGN.md` - è¯¦ç»†çš„ç±»è®¾è®¡å’Œå·¥ä½œæµç¨‹
- **åŸç†è¯´æ˜**: `CHUNK_UPLOAD_EXPLANATION.md` - å·¥ä½œåŸç†å’Œä¼˜åŠ¿åˆ†æ
- **ä½¿ç”¨ç¤ºä¾‹**: `src/composables/useChunkUpload.example.ts` - å¤šç§ä½¿ç”¨åœºæ™¯

## ğŸ“ å­¦ä¹ è·¯å¾„

1. é˜…è¯» `CHUNK_UPLOAD_EXPLANATION.md` äº†è§£åŸºæœ¬æ¦‚å¿µ
2. æŸ¥çœ‹ `useChunkUpload.example.ts` å­¦ä¹ åŸºç¡€ç”¨æ³•
3. é˜…è¯» `CHUNK_UPLOAD_DESIGN.md` ç†è§£è¯¦ç»†è®¾è®¡
4. å‚è€ƒ `FolderUploadV2.vue` å®ç°è‡ªå·±çš„ç»„ä»¶
5. æ ¹æ®éœ€æ±‚è°ƒæ•´é…ç½®å’Œæ‰©å±•åŠŸèƒ½

## ğŸ’¡ æœ€ä½³å®è·µ

1. **é…ç½®åˆç†çš„åˆ‡ç‰‡å¤§å°**

   ```typescript
   const uploader = useChunkUpload({
     chunkSize: 2 * 1024 * 1024 // 2MBï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯
   })
   ```

2. **å¤„ç†ä¸Šä¼ ç»“æœ**

   ```typescript
   try {
     await uploader.upload(files)
     const stats = uploader.getStatistics()
     if (stats.failedFiles > 0) {
       ElMessage.warning(`${stats.failedFiles} ä¸ªæ–‡ä»¶ä¸Šä¼ å¤±è´¥`)
     } else {
       ElMessage.success('æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ æˆåŠŸ')
     }
   } catch (error) {
     ElMessage.error('ä¸Šä¼ è¿‡ç¨‹å‡ºé”™')
   }
   ```

3. **æ¸…ç†èµ„æº**

   ```typescript
   onUnmounted(() => {
     uploader.clear()
   })
   ```

4. **æä¾›ç”¨æˆ·åé¦ˆ**
   ```vue
   <el-progress
     :percentage="file.uploadProgress"
     :status="file.uploadStatus === 'success' ? 'success' : undefined"
   />
   ```

## ğŸš§ æœªæ¥æ‰©å±•

- [ ] æ–­ç‚¹ç»­ä¼ ï¼ˆè®°å½•å·²ä¸Šä¼ åˆ‡ç‰‡ï¼‰
- [ ] ç§’ä¼ åŠŸèƒ½ï¼ˆæ–‡ä»¶å“ˆå¸Œæ£€æŸ¥ï¼‰
- [ ] ä¸Šä¼ é€Ÿåº¦é™åˆ¶
- [ ] ä¼˜å…ˆçº§é˜Ÿåˆ—
- [ ] ä¸Šä¼ ç»Ÿè®¡ï¼ˆé€Ÿåº¦ã€å‰©ä½™æ—¶é—´ï¼‰
- [ ] æ›´å¼ºå¤§çš„å“ˆå¸Œç®—æ³•ï¼ˆspark-md5ï¼‰
- [ ] WebWorker è®¡ç®—å“ˆå¸Œ
- [ ] åˆ‡ç‰‡å‹ç¼©

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š

1. æ§åˆ¶å°æ—¥å¿—
2. ç½‘ç»œè¯·æ±‚
3. ç›¸å…³æ–‡æ¡£

---

**Happy Coding! ğŸ‰**
